SET FOREIGN_KEY_CHECKS=0;
SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";
DROP DATABASE IF EXISTS `ibd`;
CREATE DATABASE IF NOT EXISTS `ibd` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
USE `ibd`;

CREATE TABLE IF NOT EXISTS `autorzy` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `imie` varchar(150) NOT NULL,
  `nazwisko` varchar(150) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8;

INSERT INTO `autorzy` (`id`, `imie`, `nazwisko`) VALUES
(1, 'Dan', 'Brown'),
(2, 'Stephen', 'King'),
(3, 'Stieg', 'Larsson'),
(4, 'Arthur Conan', 'Doyle'),
(5, 'Jacek', 'Piekara'),
(6, 'Marcin', 'Wolski'),
(7, 'Neil', 'Gaiman'),
(8, 'Wojciech', 'Cejrowski'),
(9, 'Martyna', 'Wojciechowska'),
(10, 'Joe', 'Duffy'),
(11, 'Jack D.', 'Herrington'),
(12, 'Marcin', 'Lis'),
(13, 'Krzysztof', 'Rychlicki-Kicior');

CREATE TABLE IF NOT EXISTS `kategorie` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nazwa` varchar(150) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

INSERT INTO `kategorie` (`id`, `nazwa`) VALUES
(1, 'kryminał i sensacja'),
(2, 'fantastyka'),
(3, 'podróże'),
(4, 'informatyka');

CREATE TABLE IF NOT EXISTS `ksiazki` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_autora` int(11) NOT NULL,
  `id_kategorii` int(11) NOT NULL,
  `tytul` varchar(255) NOT NULL,
  `opis` text NOT NULL,
  `cena` float NOT NULL,
  `liczba_stron` int(11) NOT NULL,
  `isbn` varchar(50) NOT NULL,
  `zdjecie` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `id_autora` (`id_autora`),
  KEY `id_kategorii` (`id_kategorii`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;

INSERT INTO `ksiazki` (`id`, `id_autora`, `id_kategorii`, `tytul`, `opis`, `cena`, `liczba_stron`, `isbn`, `zdjecie`) VALUES
(1, 1, 1, 'Zaginiony symbol', 'Co zaginęło, zostanie odnalezione... Waszyngton. Harvardzki specjalista od symboliki, Robert Langdon na prośbę swego przyjaciela i mentora, Petera Solomona, ma wygłosić wykład na Kapitolu. Kiedy dociera na miejsce, okazuje się, że na wieczór nie zaplanowano żadnego odczytu, a po chwili na środku rotundy odkryte zostaje makabryczne znalezisko, niepokojąco naznaczone pięcioma tajemniczymi symbolami. Jego przesłanie jest dla Langdona oczywiste - to zaproszenie do dawno zaginionego świata skrywającego ezoteryczną mądrość. Kiedy okazuje się, że Peter Solomon, filantrop i prominentny członek loży masońskiej, został porwany, Langdon wie, że istnieje tylko jeden sposób, by ocalić przyjaciela: przyjąć tajemnicze zaproszenie i udać się tam, gdzie zaprowadzą go zaszyfrowane wskazówki. A poprowadzą go podziemnymi korytarzami do tajemnych komnat i świątyń ukrytych pod jednym z najpotężniejszych miast świata. Skrywa ono prastare sekrety loży masońskiej i odkrycia, których wielu wolałoby nie ujawniać. Rozpoczyna się szalona wędrówka i wyścig z czasem, bo Langdon ma zaledwie kilka godzin na dotarcie do celu. W przeciwnym wypadku jego przyjaciel zginie. Zaginiony symbol to mistrzowsko skonstruowany thriller przesiąknięty historią, zagubiony w labiryncie symboli i enigmatycznych kodów. Pełen zagadek i trzymających w napięciu zwrotów akcji.', 31.34, 608, '978-83-7508-249-4 ', '1.jpg'),
(2, 1, 1, 'Kod Leonarda da Vinci', 'Ofiarą popełnionego w Luwrze morderstwa pada kustosz muzeum Jacques Sauniere. Wezwany przez policję francuską Langdon odkrywa na miejscu zbrodni szereg zakonspirowanych śladów, które mogą pomóc w ustaleniu zabójcy, ale też stanowią klucz do jeszcze większej zagadki - niezwykłej tajemnicy sięgającej korzeniami początków chrześcijaństwa. .\r\n\r\nLangdon podejrzewa, że zamordowany był członkiem Zakonu Syjonu, powstałego w 1099 roku tajnego stowarzyszenia strzegącego miejsca ukrycia bezcennej, zaginionej przed wiekami relikwii Kościoła - Świętego Graala. Do organizacji należeli m.in. Leonardo Da Vinci i Isaac Newton. Kustosz poświęcił życie, by strzeżony przez zakon sekret nie dostał się w niepowołane ręce. Teraz pozostały jedynie 24 godziny na rozwikłanie precyzyjnie skonstruowanej łamigłówki pozostawionej przez Saunier\'a - inaczej tajemnicę na zawsze skryją mroki historii. Kluczowe elementy zagadki kryją się w najsłynniejszych obrazach mistrza Renesansu - \"Mona Lizie\" i \"Ostatniej wieczerzy\". Czy ścigany przez policje i bezlitosnego zabójcę Langdon zdoła ujść pogoni i dotrzeć do szokującej prawdy? Jego jedynym sprzymierzeńcem jest piękna Sophie Neveu, agentka policji, specjalistka od tajnych kodów i szyfrów, wnuczka Sauniere\'a... ', 31.99, 568, '978-83-7508-197-8', '2.jpg'),
(3, 2, 1, 'Pod kopułą', 'Pewnego pogodnego, jesiennego dnia małe amerykańskie miasteczko Chester\'s Mill zostaje nagle i niewytłumaczalnie odcięte od świata. Otacza je niewidoczne pole siłowe, które mieszkańcy zaczynają nazywać kopułą. Sytuacja szybko się pogarsza. Pole wpływa niekorzystnie na środowisko, a ludzi powoli ogarnia panika...\r\nDale Barbara, weteran wojny w Iraku zarabiający na życie jako wędrowny kucharz, jest zmuszony do pozostania w Chester\'s Mill. Wspierany przez wojsko, które znajduje się na zewnątrz kopuły, wraz z garstką ochotników próbuje uspokoić nastroje społeczne. Na drodze staje im Duży Jim Rennie, ambitny lokalny polityk, który za wszelką cenę chce wykorzystać sytuację dla własnych celów. Wraz z synem ukrywają wiele koszmarnych tajemnic, które nie mogą ujrzeć światła dziennego.\r\nCzas ucieka, a największym wrogiem mieszkańców jest sama kopuła. Czy dowiedzą się, jak powstała, zanim będzie za późno?\r\nCzas goni. A właściwie czasu już brak... ', 44.17, 928, '978-83-7648-349-8', NULL),
(4, 3, 1, 'Mężczyźni, którzy nienawidzą kobiet', 'Pewnego wrześniowego dnia w 1966 roku szesnastoletnia Harriet Vanger znika jak kamień w wodę. Prawie czterdzieści lat później Mikael Blomkvist otrzymuje nietypowe zlecenie od Henrika Vangera. Stojący na czele wielkiego koncernu magnat przemysłowy prosi znajdującego się na zakręcie życiowym dziennikarza o napisanie kroniki rodzinnej Vangerów. Okazuje się, że spisywanie dziejów to tylko pretekst do próby rozwiązania zagadki zniknięcia Harriet. Mikael Blomkvist, skazany za zniesławienie, redaktor czasopisma Millennium, przechodzi kryzys wartości i rezygnuje z obowiązków zawodowych. Podejmuje się niezwykłego zlecenia, opuszcza Sztokholm i osiada w niewielkiej wiosce na północy kraju. Po pewnym czasie dołącza do niego młoda ekscentryczna hackerka, Lisbeth Salander. Wspólnie, choć nie zawsze ramię w ramię, biorą pod lupę przeszłość klanu Vangerów i wykrywają prawdę o wiele bardziej mroczną i krwawą niż ta, którą spodziewali się odnaleźć... ', 36.09, 640, '978-83-7554-059-8', '1.jpg'),
(5, 4, 1, 'Sherlock Holmes - dzienniki i inne opowiadania', 'Opowieści Arthura Conan Doyle\'a przyczyniły się do popularyzacji gatunku opowiadań detektywistycznych i na zawsze zmieniły podejście pisarzy do literatury kryminalnej, a że wciąż wznawiane na całym świecie i regularnie przenoszone na sceny oraz ekrany kinowe i telewizyjne, Sherlock Holmes zapewne pozostanie, również w XXI wieku, najsłynniejszym i najbardziej lubianym detektywem wszech czasów.', 32.99, 660, '978-83-7544-183-3', '1.jpg'),
(6, 5, 2, 'Alicja', ' Aleks na początku historii jest tym, kim zawsze bałem się być: człowiekiem przegranym pod każdym względem, którego przekonanie o własnym talencie i wyjątkowości ginie pod wpływem całkowitej obojętności otoczenia. A jednocześnie nie umiejącym podejmować decyzji, tkwiącym w marazmie, utopionym w szarzyźnie, zniechęconym i zagubionym.', 31.49, 269, '978-83-7574-200-8', '2.jpg'),
(7, 6, 2, 'Alterland', 'Nieudany (lub udany) zamach na Hitlera 20 lipca 1944 staje się zwrotnicą historii - od niego zależy, czy u progu III tysiąclecia staniemy się obywatelami Autonomicznej Republiki Priwislinii w Socjalistycznej Europie Republik Sowieckich, lokalnego mocarstwa, czy też.... W powieści Marcina Wolskiego autentyczne postacie - gubernator Frank, Goebbels, Beria -- występują obok bohaterów fikcyjnych, wydarzenia historyczne stają się pretekstem dla wątków (na szczęście?) niemających z historią nic wspólnego. Realia i surrealia splatają się w sugestywny obraz Warszawy, w której przyszło żyć trzem generacjom bohaterów książki. Autor kreśli z rozmachem alternatywny obraz świata - groteskowy, śmieszny i przerażający.', 32.99, 367, '83-89291-18-5', '3.jpg'),
(8, 7, 2, 'Amerykańscy bogowie. Wersja limitowana rozszerzona', '\"Limitowana wersja autorska, rozszerzona o dodatkowy materiał najsłynniejszej powieści Neila Gaimana. Po trzech latach spędzonych w więzieniu Cień ma wyjść na wolność. Ale w miarę jak do końca odsiadki pozostają tygodnie, godziny, minuty, sekundy, czuje narastający niepokój. Na dwa dni przed zakończeniem wyroku, jego żona, Laura, ginie wypadku samochodowym w tajemniczych okolicznościach - wszystko wskazuje na zdradę małżeńską. Oszołomiony Cień powraca do domu, gdzie spotyka tajemniczego Pana Wednesday, twierdzącego, iż jest uchodźcą wojennym, byłym bogiem i królem Ameryki. Razem wyruszają oni w niesamowitą podróż przez Stany, rozwiązując zagadkę morderstw, które co zimę są dokonywane w małym amerykańskim miasteczku. Jednak podąża za nimi ktoś, z kim Cień musi zawrzeć pokój... W swojej niepokojącej, wciągającej i bardzo osobliwej powieści Neil Gaiman, wyrusza w podróż w poszukiwaniu duszy Ameryki. \"Amerykańscy bogowie\" to coś więcej niż historia milosna, jest bowiem opowieścią o współczesnym świecie, o przemijaniu wartości, konflikcie pomiędzy tym co nowe, a tradycjami, które powstawały przez wieki. Opowiada o pasji, miłości, nienawiści i śmierci, o codziennych problemach i rozterkach trapiących nas ludzi na początku nowego tysiąclecia. Powieść nagrodzona: Bram Stoker Award, HUGO, NEBULA, LOCUS, Geffen Award . Nominowana do World Fantasy Award.Neil Richard Gaiman urodził się w roku 1960 w Anglii, w Portchester w hrabstwie Hampshire, pod znakiem Skorpiona. Edukował sie w Ardingly College i Whitgift School. Neil Gaiman zawsze ubiera się na czarno, wszystko, co nosi, od T-shirtu po płaszcz, zawsze jest czarne. Prawie zawsze nosi ciemne okulary. Uwielbia koty. Jest od szesnastu lat żonaty z Mary McGrath, ma z nią troje dzieci: syna i dwie córki. Brytyjczyk porzucił Brytanię - od 1992 roku mieszka i pracuje w Stanach, w Minneapolis w stanie Minnesota.Przyznaje się do młodzieńczej fascynacji amerykańską Nową Falą SF z lat siedemdziesiątych - twórczością Samuela R. Delany\'ego, Harlana Ellisona, Rogera Zelaznego. \"', 35.99, 462, '978-83-7480-050-1', '2.jpg'),
(9, 8, 3, 'Gringo wśród dzikich plemion', 'Jest to książka przygodowa i podróżnicza. Mądra, a jednocześnie pełna humoru. Sprawia, że Czytelnik zaczyna się głośno śmiać. Jest to także album niezwykłych fotografii z wypraw w najdziksze rejony świata. Wojciech Cejrowski zabierze Państwa na wyprawę do ostatnich dzikich plemion.', 28.99, 264, '978-83-7506-017-1', '1.jpg'),
(10, 9, 3, 'Kobieta na krańcu świata', 'Martyna Wojciechowska przemierzyła kulę ziemską w poszukiwaniu bohaterek do swojego najnowszego programu Kobieta na krańcu świata.. Odnalazła je między innymi w najbiedniejszej dzielnicy boliwijskiego La Paz, na argentyńskiej pampie, rajskiej plaży Zanzibaru i w pływającym domu na zatoce Ha Long. Książka składa się z reportaży pokazujących te fascynujące miejsca, i kulturę.\r\nCarmen Rojas walczy na ringu z mężczyznami i w ten sposób zarabia na utrzymanie siebie i dwójki dzieci. So Tonh codziennie wyrusza na pole minowe ze świadomością, że może juz nigdy nie zobaczyć swojej rodziny. Jaqueline Aguilera - najpiękniejsza kobieta świata - poddaje się operacji plastycznej i wstrzykuje sobie botoks, bo przecież żadna kobieta nie jest do końca zadowolona ze swojego wyglądu. Daphne Sheldrick poświęciła życie opiece nad afrykańskimi osieroconymi słoniami, które traktuje jak własne dzieci. Czternastoletnia Raisiua z plemienia Himba w Namibii została wydana za mąż wbrew swojej woli.\r\nW książce Kobieta na krańcu świata Martyna Wojciechowska podpatruje ich codzienne życie, poznaje ich pasje i marzenia. Opisuje losy tych niezwykłych kobiet oraz szuka odpowiedzi, dlaczego tak, a nie inaczej się one potoczyły.', 47.49, 352, '978-83-7596-079-2', '1.jpg'),
(11, 10, 4, '.NET Framework 2.0. Zaawansowane programowanie', '\".NET Framework 2.0. Zaawansowane programowanie\" to podręcznik dla programistów, którzy chcą szybko rozpocząć pracę z tą platformą. Dzięki tej książce poznasz mechanizmy działania .NET Framework i środowiska CLR, a także funkcje licznych bibliotek, zarówno tych podstawowych, jak i bardziej wyspecjalizowanych. Dowiesz się, jak przy użyciu tych technologii łatwo zapewniać bezpieczeństwo kodu, debugować oprogramowanie, obsługiwać transakcje, zapewniać współdziałanie aplikacji z kodem niezarządzanym i wykonywać wiele innych potrzebnych operacji. ', 89, 672, '978-83-246-0654-2', '4.jpg'),
(12, 11, 4, '100 sposobów na PHP', 'Zbiór rozwiązań dla twórców dynamicznych witryn WWW\r\n\r\n    * Korzystanie z danych pochodzących z innych witryn WWW\r\n    * Dynamiczne generowanie grafiki i animacji Flash\r\n    * Obsługa komunikatorów internetowych i protokołu IRC\r\n\r\nJęzyk PHP zdobył ogromną popularność jako narzędzie do tworzenia dynamicznych witryn WWW, a grono jego użytkowników stale się powiększa. Programiści i projektanci doceniają jego możliwości, szybkość i wygodę. Standardowe już zastosowania języka PHP -- łączenie witryny WWW z bazą danych, przechowywanie treści artykułów w tabelach i obsługa formularzy nie wyczerpują możliwości tej platformy programistycznej. PHP oferuje znacznie więcej -- pozwala między innymi na dynamiczne generowanie grafiki, korzystanie z usług sieciowych i protokołu SOAP oraz przetwarzanie plików XML.\r\n\r\nKsiążka \"100 sposobów na PHP\" to coś więcej niż kolejny podręcznik tworzenie aplikacji WWW. Znajdziesz w niej mniej znane sposoby wykorzystywania PHP przy budowaniu witryn internetowych. Nauczysz się korzystać z biblioteki PEAR, tworzyć interfejsów użytkownika z wykorzystaniem języka DHTML oraz technologii SVG oraz generować pliki RTF, CSV i XLS. Dowiesz się, jak stosować wzorce projektowe i testować aplikacje wykorzystując testy jednostkowe. Poznasz zasady programowania obiektowego w PHP i tchniesz nowe życie w działające już aplikacje dodając do nich ciekawe \"wodotryski\", których przykłady znajdziesz w tej książce.\r\n\r\n    * Instalacja PHP oraz biblioteki PEAR\r\n    * Projektowanie interfejsów użytkownika\r\n    * Łączenie PHP z DHTML oraz JavaScript\r\n    * Generowanie grafiki bitmapowej i wektorowej\r\n    * Manipulowanie danymi w bazie za pomocą plików XML\r\n    * Łączenie aplikacji WWW z GoogleMaps oraz Wikipedią\r\n    * Wykorzystywanie wzorców projektowych\r\n    * Testowanie aplikacji\r\n    * Generowanie animacji Flash\r\n    * Wysyłanie SMS-ów oraz wiadomości na serwery IRC\r\n\r\nPoznaj nietypowe zastosowania języka PHP.', 57, 432, '83-246-0426-X', '2.jpg'),
(13, 12, 4, 'AJAX i PHP. Praktyczny kurs', 'Książka \"Ajax i PHP. Praktyczny kurs\" zawiera informacje niezbędne do sprawnego posługiwania się współczesnymi narzędziami do tworzenia stron www. Każdy jej rozdział kończy się ćwiczeniami do samodzielnego wykonania, co pozwala szybko opanować cały materiał i od razu sprawdzić swoje umiejętności w praktyce. Dzięki temu podręcznikowi poznasz procedury języka JavaScript, sposoby transmisji danych, nauczysz się wykorzystywać dynamiczne style CSS i generować dane XML przez PHP. W ten sposób, nie wychodząc z domu, ukończysz kurs tworzenia stron www z wykorzystaniem technologii Ajax i PHP.', 44, 328, '978-83-246-1175-1', '5.jpg'),
(14, 13, 4, 'ASP.NET 3.5 dla programistów PHP', 'Technologie PHP i ASP.NET mają kilka cech wspólnych - obie służą do tworzenia aplikacji internetowych, uruchamianych za pośrednictwem przeglądarki internetowej, i generują wynik swojego działania w postaci dokumentów XHTML. Jednak istnieje między nimi jedna istotna różnica - PHP wykorzystuje rozwiązania open source, a ASP.NET rozwiązania komercyjne, rozwijane przez firmę Microsoft. ASP.NET opiera się na platformie .NET - uniwersalnym frameworku, pozwalającym na korzystanie z różnych języków programowania w celu tworzenia skalowalnych, szybkich i łatwych do rozwijania aplikacji sieciowych. Nie bez znaczenia jest także środowisko programistyczne - Visual Studio to doskonałe narzędzie, znacznie przyspieszające i usprawniające proces tworzenia oprogramowania.\r\n\"ASP.NET 3.5 dla programistów PHP\" to wprowadzenie do technologii ASP dla wszystkich twórców aplikacji internetowych, którzy dotychczas korzystali z PHP. Czytając tę książkę, zrozumiesz główne zasady korzystania z platformy .NET i techniki budowania aplikacji sieciowych. Dowiesz się, jak skonfigurować środowisko pracy i zaprojektować strukturę aplikacji. Nauczysz się korzystać z najważniejszych elementów platformy .NET - kontrolek będących gotowymi \"cegiełkami\" do budowy stron internetowych ASP. Poznasz podstawowe kontrolki, tworzące interfejs użytkownika i zarządzające sesją, połączysz aplikację z bazą danych i zastosujesz kontrolki do wyświetlenia danych na stronie. Przeczytasz o sprawdzaniu poprawności danych wprowadzanych do formularzy i przypisywaniu ról użytkownikom aplikacji. Znajdziesz tu także informacje o tym, w jaki sposób wykorzystać technologię AJAX do budowy interfejsów użytkownika aplikacji ASP.NET.', 34.9, 160, '978-83-246-1916-0', '1.jpg');


ALTER TABLE `ksiazki`
  ADD CONSTRAINT `ksiazki_ibfk_1` FOREIGN KEY (`id_autora`) REFERENCES `autorzy` (`id`),
  ADD CONSTRAINT `ksiazki_ibfk_2` FOREIGN KEY (`id_kategorii`) REFERENCES `kategorie` (`id`);
SET FOREIGN_KEY_CHECKS=1;
COMMIT;
